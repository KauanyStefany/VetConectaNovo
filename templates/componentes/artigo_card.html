{#
  Componente de Card de Artigo

  Espera a variável 'artigo' no contexto com os campos:
  - id_postagem_artigo
  - titulo
  - data_publicacao
  - nome_veterinario
  - nome_categoria
  - cor_categoria
  - id_categoria_artigo
#}

<a href="/artigos/{{ artigo.id_postagem_artigo }}" class="text-decoration-none">
    <div class="card h-100 border-0 shadow-sm rounded-4 overflow-hidden" style="background-color: {{ artigo.cor_categoria }};">
        <!-- Imagem do Artigo -->
        <img src="/static/img/artigos/{{ '%08d' % artigo.id_postagem_artigo }}.jpg"
             class="card-img-top"
             alt="{{ artigo.titulo }}"
             style="height: 220px; object-fit: cover;"
             onerror="this.src='/static/img/categorias/{{ '%02d' % artigo.id_categoria_artigo }}.jpg'">

        <!-- Corpo do Card -->
        <div class="card-body text-white d-flex flex-column p-3">
            <!-- Título -->
            <h6 class="card-title fw-bold mb-2" style="min-height: 2.8rem; line-height: 1.4rem; font-size: 1rem;">
                {{ artigo.titulo[:65] }}{% if artigo.titulo|length > 65 %}...{% endif %}
            </h6>

            <!-- Data -->
            <p class="card-text mb-2">
                <small>{{ artigo.data_publicacao[:10] | replace('-', '/') if artigo.data_publicacao is string else artigo.data_publicacao.strftime('%d/%m/%Y') }}</small>
            </p>

            <!-- Nome do Veterinário -->
            <p class="card-text mb-2">
                <small>@{{ artigo.nome_veterinario.lower().replace(' ', '') }}</small>
            </p>

            <!-- Badge da Categoria -->
            <div class="mt-auto">
                <span class="badge rounded-pill px-2 py-1"
                      style="background-color: rgba(255, 255, 255, 0.34); font-size: 0.85rem;">
                    {{ artigo.nome_categoria }}
                </span>
            </div>
        </div>
    </div>
</a>
