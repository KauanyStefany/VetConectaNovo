{% extends "base_publica_login.html" %}
{% block head %}
<title>Cadastro - VetConecta</title>
<link rel="stylesheet" href="/static/css/login.css">
<link rel="stylesheet" href="/static/css/styles.css">
{% endblock %}
{% block conteudo %}
<body>
    <div class="bg-full">
        <div class="login-box">
            <img src="/static/img/pata_icon.png" alt="Logo VetConecta" class="logo-img">
            <div class="brand-title">
                <span>Vet</span>
                <span class="brand-subtitle">Conecta</span>
            </div>
            <h5 class="mb-4 fw-semibold login-title">Cadastro</h5>
            <form action="/cadastro" method="post">
                {% if erros and 'GERAL' in erros.keys() %}
                <div class="alert alert-danger" role="alert">
                    {{ erros['GERAL'] }}
                </div>
                {% endif %}
                <div class="mb-3 text-start">
                    <label class="form-label">Se cadastrar como:</label>
                    <br>
                    <div class="form-check form-check-inline">
                        <input
                            class="form-check-input"
                            type="radio"
                            name="perfil"
                            id="tutor"
                            value="tutor"
                            required
                            {% if dados and dados.perfil == 'tutor' %}checked{% endif %}
                        >
                        <label class="form-check-label" for="tutor">Tutor</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input
                            class="form-check-input"
                            type="radio"
                            name="perfil"
                            id="veterinario"
                            value="veterinario"
                            required
                            {% if dados and dados.perfil == 'veterinario' %}checked{% endif %}
                        >
                        <label class="form-check-label" for="veterinario">Veterinário</label>
                    </div>
                    {% if erros and 'PERFIL' in erros %}
                    <div class="invalid-feedback d-block">{{ erros['PERFIL'] }}</div>
                    {% endif %}
                </div>
                <div class="mb-3 text-start">
                    <label for="nome" class="form-label">Nome</label>
                    <input
                        type="text"
                        class="form-control {% if erros and 'NOME' in erros.keys() %}is-invalid{% endif %}"
                        id="nome"
                        value="{{dados.nome if dados else ''}}"
                        name="nome"
                        placeholder="Digite seu nome"
                        required
                    >
                    {% if erros and 'NOME' in erros.keys() %}
                    <div class="invalid-feedback">{{ erros['NOME'] }}</div>
                    {% endif %}
                </div>
                <div class="mb-3 text-start">
                    <label for="email" class="form-label">Email</label>
                    <input
                        type="email"
                        class="form-control {% if erros and 'EMAIL' in erros.keys() %}is-invalid{% endif %}"
                        id="email"
                        value="{{dados.email if dados else ''}}"
                        name="email"
                        placeholder="Digite seu email"
                        required
                    >
                    {% if erros and 'EMAIL' in erros.keys() %}
                    <div class="invalid-feedback">{{ erros['EMAIL'] }}</div>
                    {% endif %}
                </div>
                <div class="mb-3 text-start">
                    <label for="telefone" class="form-label">Telefone</label>
                    <input
                        type="tel"
                        class="form-control {% if erros and 'TELEFONE' in erros.keys() %}is-invalid{% endif %}"
                        id="telefone"
                        value="{{dados.telefone if dados else ''}}"
                        name="telefone"
                        placeholder="Digite seu telefone"
                        required
                    >
                    {% if erros and 'TELEFONE' in erros.keys() %}
                    <div class="invalid-feedback">{{ erros['TELEFONE'] }}</div>
                    {% endif %}
                </div>
                <div class="mb-3 text-start" id="crmv-field" style="display: none;">
                    <label for="crmv" class="form-label">CRMV</label>
                    <input
                        type="text"
                        class="form-control {% if erros and 'CRMV' in erros.keys() %}is-invalid{% endif %}"
                        id="crmv"
                        value="{{dados.crmv if dados else ''}}"
                        name="crmv"
                        placeholder="Digite seu CRMV"
                    >
                    {% if erros and 'CRMV' in erros.keys() %}
                    <div class="invalid-feedback">{{ erros['CRMV'] }}</div>
                    {% endif %}
                </div>
                <div class="mb-3 text-start">
                    <label for="senha" class="form-label">Senha</label>
                    <input
                        type="password"
                        class="form-control {% if erros and 'SENHA' in erros.keys() %}is-invalid{% endif %}"
                        id="senha"
                        name="senha"
                        placeholder="Digite sua senha"
                        required
                    >
                    {% if erros and 'SENHA' in erros.keys() %}
                    <div class="invalid-feedback">{{ erros['SENHA'] }}</div>
                    {% endif %}
                </div>
                <div class="mb-3 text-start">
                    <label for="confirmar_senha" class="form-label">Confirmar Senha</label>
                    <input
                        type="password"
                        class="form-control {% if erros and 'CONFIRMAR_SENHA' in erros.keys() %}is-invalid{% endif %}"
                        id="confirmar_senha"
                        name="confirmar_senha"
                        placeholder="Confirme sua senha"
                        required
                    >
                    {% if erros and 'CONFIRMAR_SENHA' in erros.keys() %}
                    <div class="invalid-feedback">{{ erros['CONFIRMAR_SENHA'] }}</div>
                    {% endif %}
                </div>
                <button type="submit" class="btn btn-login w-100">Entrar</button>
                <br>
                <div class="form-check text-start mb-3">
                    <input
                        class="form-check-input"
                        type="checkbox"
                        id="termos"
                        name="termos"
                        required
                        {% if dados and dados.termos %}checked{% endif %}
                    >
                    <label class="form-check-label" for="termos">
                        Aceito os
                        <a href="termos.html" class="text-primary fw-semibold">Termos de privacidade.</a>
                    </label>
                    {% if erros and 'TERMOS' in erros.keys() %}
                    <div class="invalid-feedback d-block">{{ erros['TERMOS'] }}</div>
                    {% endif %}
                </div>
            </form>
            <div class="mt-3 text-center">
                <span>Já tem uma conta cadastrada?</span>
                <a href="login.html" class="text-primary fw-semibold">Faça login!</a>
            </div>
        </div>
    </div>
    <script src="/static/js/scripts_cadastro.js"></script>
{% endblock %}
