{% extends "base_publica.html" %}
{% block head %}
<title>Recuperar Senha - VetConecta</title>
<link rel="stylesheet" href="/static/css/login.css">
<link rel="stylesheet" href="/static/css/styles.css">
{% endblock %}
{% block conteudo %}
<body>

  <div class="bg-full">
    <div class="login-box">
      <!-- Logo -->
      <img src="/static/img/pata_icon.png" alt="Logo VetConecta" class="logo-img">
      <div class="brand-title">
        <span>Vet</span><span class="brand-subtitle">Conecta</span>
      </div>

      <!-- Título -->
      <h5 class="mb-4 fw-semibold login-title">Recuperar Senha</h5>

      {% if erro %}
      <div class="alert alert-danger" role="alert">
        {{ erro }}
      </div>
      {% endif %}

      {% if sucesso %}
      <div class="alert alert-success" role="alert">
        {{ sucesso }}
      </div>

      {% if debug_link %}
      <!-- REMOVER EM PRODUÇÃO -->
      <div class="alert alert-warning" role="alert">
        <strong>Link de teste:</strong><br>
        <a href="{{ debug_link }}" target="_blank">{{ debug_link }}</a>
      </div>
      {% endif %}

      <div class="mt-3 text-center">
        <a href="/login" class="btn btn-link">Voltar ao Login</a>
      </div>
      {% else %}

      <p class="text-muted text-center mb-4">
        Digite seu e-mail cadastrado e enviaremos instruções para redefinir sua senha.
      </p>

      <!-- Formulário -->
      <form method="post" action="/esqueci-senha">
        <div class="mb-3 text-start">
          <label for="email" class="form-label">Email</label>
          <input type="email" class="form-control" id="email" name="email"
                 placeholder="Digite seu email" required autofocus>
        </div>
        <button type="submit" class="btn btn-login w-100">Enviar Instruções</button>
      </form>

      <div class="mt-3 text-center">
        <a href="/login" class="btn btn-link">Voltar ao Login</a>
      </div>
      {% endif %}

    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
{% endblock %}
